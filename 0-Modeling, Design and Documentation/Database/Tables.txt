USE POLICYASSESSMENT;

CREATE TABLE Client
(
   Id VARCHAR(50) NOT NULL,
   Name VARCHAR(50) NOT NULL,
   Email VARCHAR(50) NOT NULL,
   Role VARCHAR(5) NOT NULL,
   CONSTRAINT CLIENT_PK PRIMARY KEY(Id),
   CONSTRAINT CLIENT_CHK1 CHECK (Role IN ('admin','user'))
);

CREATE TABLE Policy
(
   Id VARCHAR(50) NOT NULL,
   AmountInsured DECIMAL(12,2) NOT NULL,
   Email VARCHAR(50) NOT NULL,
   InceptionDate DATE NOT NULL,
   InstallmentPayment BIT NOT NULL,
   ClientId VARCHAR(50) NOT NULL,
   CONSTRAINT POLICY_PK PRIMARY KEY(Id),
   CONSTRAINT POLICY_CLIENT_FK FOREIGN KEY(ClientId) REFERENCES Client(Id)
);